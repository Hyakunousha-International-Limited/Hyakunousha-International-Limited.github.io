{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Welcome to Association Rules Mining Introduction Association rule mining finds interesting associations and relationships among large sets of data items. This rule shows how frequently a set of item occurs in a transaction. Given a set of transactions, we can find rules that will predict the occurrence of an item based on the occurrences of other items in the transaction. The motivation is that, if there is a large portion of the customers buying [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 together with [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 in the historical transaction data then we may feel confident to recommend [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 to a customer if that customer has [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 in the basket. This example can be illustrated in the following diagram. There are 3 important metrics to evaluate the interestingness of the rules : Support, Confidence, Lift. In the example just mentioned, where the rule is denoted as [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 \u21d2 [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 . Support: The fraction of the historical transactions containing both [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 and [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 - that is the portion of the overlapping area relative to the white rectangle. Confidence: The fraction of the past transaction containing [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 also contains [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 - that is the portion of the overlapping area relative to the blue circle. Lift: Measurement of how much the fraction of occurrence of [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 is lifted given that the transaction is containing [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089, comparing to all the transactions containing [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 - that is the ratio of the confidence to the fraction occupied by the red circle. More detailed mathematical formulation could be found in this section . The direction of association (i.e. [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 \u21d2 [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 versus [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 \u21d2 [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 ) is commonly determined by the confindence of the rules. The association direction helps to identify the \"causes\" and \"effects\". PageRank PageRank originally is an algorithm developed by Google to measure the importance of websites pages. This algorithm can also be leveraged to analyse the association graph to evaluate the centeredness of nodes. The importance is that product centeredness is related to product affinity. If a product has high pagerank, it could imply that this product could attract customers to buy more different products. Node Value With the association direction determined using confidence , the \"causes\" and \"effects\" could be identified. The monetary value \"caused\" by a product could be measure by summing the sales of the \"effects\" bought together. Additionally, the monetary value of the \"causes\" itself is also included when evaluting node values. This estimation heavily relies on 2 assumptions that (1) Drinks cannot generate extra item sales because buying drinks should not be the motivation of clients to purchase our other products; and (2) The direction of the association is determined by the confidence.","title":"Home"},{"location":"index.html#welcome-to-association-rules-mining","text":"","title":"Welcome to Association Rules Mining"},{"location":"index.html#introduction","text":"Association rule mining finds interesting associations and relationships among large sets of data items. This rule shows how frequently a set of item occurs in a transaction. Given a set of transactions, we can find rules that will predict the occurrence of an item based on the occurrences of other items in the transaction. The motivation is that, if there is a large portion of the customers buying [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 together with [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 in the historical transaction data then we may feel confident to recommend [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 to a customer if that customer has [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 in the basket. This example can be illustrated in the following diagram. There are 3 important metrics to evaluate the interestingness of the rules : Support, Confidence, Lift. In the example just mentioned, where the rule is denoted as [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 \u21d2 [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 . Support: The fraction of the historical transactions containing both [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 and [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 - that is the portion of the overlapping area relative to the white rectangle. Confidence: The fraction of the past transaction containing [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 also contains [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 - that is the portion of the overlapping area relative to the blue circle. Lift: Measurement of how much the fraction of occurrence of [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 is lifted given that the transaction is containing [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089, comparing to all the transactions containing [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 - that is the ratio of the confidence to the fraction occupied by the red circle. More detailed mathematical formulation could be found in this section . The direction of association (i.e. [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 \u21d2 [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 versus [\u5fa1\u7d50]\u672c\u683c\u548c\u98a8\u71d2\u725b\u8089 \u21d2 [\u5fa1\u7d50]\u84b2\u71d2\u4e09\u6587\u9b5a\u8169 ) is commonly determined by the confindence of the rules. The association direction helps to identify the \"causes\" and \"effects\".","title":"Introduction"},{"location":"index.html#pagerank","text":"PageRank originally is an algorithm developed by Google to measure the importance of websites pages. This algorithm can also be leveraged to analyse the association graph to evaluate the centeredness of nodes. The importance is that product centeredness is related to product affinity. If a product has high pagerank, it could imply that this product could attract customers to buy more different products.","title":"PageRank"},{"location":"index.html#node-value","text":"With the association direction determined using confidence , the \"causes\" and \"effects\" could be identified. The monetary value \"caused\" by a product could be measure by summing the sales of the \"effects\" bought together. Additionally, the monetary value of the \"causes\" itself is also included when evaluting node values. This estimation heavily relies on 2 assumptions that (1) Drinks cannot generate extra item sales because buying drinks should not be the motivation of clients to purchase our other products; and (2) The direction of the association is determined by the confidence.","title":"Node Value"},{"location":"developer-guide.html","text":"Developer Guide","title":"Developer Guide"},{"location":"developer-guide.html#developer-guide","text":"","title":"Developer Guide"},{"location":"fundamental_knowledge.html","text":"Fundamental Knowledge Association Rules Mining Association Rules Mining aims at finding interesting relations between variables in large databases. Specifically, a relations is denoted as A\\rightarrow B meaning if A (Antecendent) occurs then B (Consequence) is more likely to occur. To identify the \"interestingness\" of a relation, there are 3 mostly used metrics: Support , Confidence and Lift . \\begin{aligned} \\text{Support}( A\\rightarrow B) & = P(A\\cap B) \\nonumber\\\\ \\text{Confidence}( A\\rightarrow B) &= P(B|A) \\nonumber\\\\ \\text{Lift}( A\\rightarrow B) &= \\frac{P(B|A)}{P(B)} \\nonumber \\end{aligned} It is easy to understand Support and Confidence , which are simply the probability of the co-occurence of the A and B , and the conditional probability of B given A . Lift , means how much of the probability of B is \"lifted\" when A occurs. There are also 2 commonly used metrics to evaluate the interestingness of a relationship, namely Improvement and Conviction \\begin{aligned} \\text{Improvement}( A\\rightarrow B) & = P(B|A) - P(B) \\nonumber\\\\ \\text{Conviction}( A\\rightarrow B) &= \\frac{1-P(B)}{1-P(B|A)} = \\frac{P(\\text{not } B)}{P(\\text{not } B|A)} \\nonumber \\end{aligned} Improvement is very similar to Lift except the fact that Improvement compares the probility of B with and without knowing A by taking \"difference\" instead of \"ratio\". Conviction , on the other hand, compares how the probability of not B when A occurs. All the metrics metioned above only considered how the probabilities changes when knowing A occurs, and not considering the situation when knowing A not occurs. Baos et. al. (2022) proposed to measure the interetingness of the rules using Bi-Metrics. \\begin{align} \\text{Bi-Confidence}(A\\rightarrow B) &= P(B|A) - P(B|\\text{not }A)\\nonumber\\\\ \\text{Bi-Lift}( A\\rightarrow B) &= \\frac{\\text{Lift}( A\\rightarrow B)}{\\text{Lift}( \\text{not }A\\rightarrow B)} = \\frac{P(A\\cap B)P(\\text{not }A)}{P(\\text{not }A\\cap B)P(A)}\\nonumber\\\\ \\text{Bi-Improvement}( A\\rightarrow B) & = [P(B|A) - P(B)]\\frac{P(A)}{P(\\text{not }A)} \\nonumber \\end{align} Leverage and Chi-Square value can be used for dependency evaluation. Specifically, \\begin{align} \\text{Leverage}(A\\rightarrow B) &= P(A\\cap B) - P(A)P(B) \\nonumber\\\\ \\chi^2(A\\rightarrow B) &= \\sqrt{n}\\frac{P(B|A)-P(B)}{\\sqrt{P(B)(1-P(B))}} \\nonumber\\\\ \\end{align} In case when A and B are independent, P(A\\cap B) = P(A)P(B) , and Leverage = 0. Hence Leverage measures in what extent A , B are independent. For a 2x2 contingency table of 1 degree of freedom, \\chi^2 > 3.84 in order to reject the null hypothesis (with 0.05 significance level). Node Values Theoretically, value of a node can be decomposed into 3 parts: the incoming value, the outgoing value and the intrinsic value. Considering the example of A\\rightarrow B , and B\\rightarrow C Incoming Value of node B: the value (sales, or quantity sold) of B that is caused by A . Outgoing Value of node B: the value (sales, or quantity sold) of C that is induced by B . Intrinsic Value of node B: the total value (sales, or quantity sold) of B that is not caused by A .","title":"Fundamental Knowledges"},{"location":"fundamental_knowledge.html#fundamental-knowledge","text":"","title":"Fundamental Knowledge"},{"location":"fundamental_knowledge.html#association-rules-mining","text":"Association Rules Mining aims at finding interesting relations between variables in large databases. Specifically, a relations is denoted as A\\rightarrow B meaning if A (Antecendent) occurs then B (Consequence) is more likely to occur. To identify the \"interestingness\" of a relation, there are 3 mostly used metrics: Support , Confidence and Lift . \\begin{aligned} \\text{Support}( A\\rightarrow B) & = P(A\\cap B) \\nonumber\\\\ \\text{Confidence}( A\\rightarrow B) &= P(B|A) \\nonumber\\\\ \\text{Lift}( A\\rightarrow B) &= \\frac{P(B|A)}{P(B)} \\nonumber \\end{aligned} It is easy to understand Support and Confidence , which are simply the probability of the co-occurence of the A and B , and the conditional probability of B given A . Lift , means how much of the probability of B is \"lifted\" when A occurs. There are also 2 commonly used metrics to evaluate the interestingness of a relationship, namely Improvement and Conviction \\begin{aligned} \\text{Improvement}( A\\rightarrow B) & = P(B|A) - P(B) \\nonumber\\\\ \\text{Conviction}( A\\rightarrow B) &= \\frac{1-P(B)}{1-P(B|A)} = \\frac{P(\\text{not } B)}{P(\\text{not } B|A)} \\nonumber \\end{aligned} Improvement is very similar to Lift except the fact that Improvement compares the probility of B with and without knowing A by taking \"difference\" instead of \"ratio\". Conviction , on the other hand, compares how the probability of not B when A occurs. All the metrics metioned above only considered how the probabilities changes when knowing A occurs, and not considering the situation when knowing A not occurs. Baos et. al. (2022) proposed to measure the interetingness of the rules using Bi-Metrics. \\begin{align} \\text{Bi-Confidence}(A\\rightarrow B) &= P(B|A) - P(B|\\text{not }A)\\nonumber\\\\ \\text{Bi-Lift}( A\\rightarrow B) &= \\frac{\\text{Lift}( A\\rightarrow B)}{\\text{Lift}( \\text{not }A\\rightarrow B)} = \\frac{P(A\\cap B)P(\\text{not }A)}{P(\\text{not }A\\cap B)P(A)}\\nonumber\\\\ \\text{Bi-Improvement}( A\\rightarrow B) & = [P(B|A) - P(B)]\\frac{P(A)}{P(\\text{not }A)} \\nonumber \\end{align} Leverage and Chi-Square value can be used for dependency evaluation. Specifically, \\begin{align} \\text{Leverage}(A\\rightarrow B) &= P(A\\cap B) - P(A)P(B) \\nonumber\\\\ \\chi^2(A\\rightarrow B) &= \\sqrt{n}\\frac{P(B|A)-P(B)}{\\sqrt{P(B)(1-P(B))}} \\nonumber\\\\ \\end{align} In case when A and B are independent, P(A\\cap B) = P(A)P(B) , and Leverage = 0. Hence Leverage measures in what extent A , B are independent. For a 2x2 contingency table of 1 degree of freedom, \\chi^2 > 3.84 in order to reject the null hypothesis (with 0.05 significance level).","title":"Association Rules Mining"},{"location":"fundamental_knowledge.html#node-values","text":"Theoretically, value of a node can be decomposed into 3 parts: the incoming value, the outgoing value and the intrinsic value. Considering the example of A\\rightarrow B , and B\\rightarrow C Incoming Value of node B: the value (sales, or quantity sold) of B that is caused by A . Outgoing Value of node B: the value (sales, or quantity sold) of C that is induced by B . Intrinsic Value of node B: the total value (sales, or quantity sold) of B that is not caused by A .","title":"Node Values"},{"location":"getting-started.html","text":"Getting started","title":"Getting started"},{"location":"getting-started.html#getting-started","text":"","title":"Getting started"},{"location":"index-dev.html","text":"Association Rules Mining documentation! Description A project for mining association rules in historical transaction data. The model can be configured with the config/model.toml in details. Commands Running the model consists of 2 parts: --gen_rules indicates the procedure of mining the association rules. --nodes_values indicates the procedure of calculating the node values. The model will generatet the association rules first. After that, the model can generate the node values of individual nodes. python main.py --gen_rules --nodes_values --topic HKD12 The --topic argument is set for different scenarios. So far, possible options include HKD12 for the scenario of 12 HKD omushibi promotion; and Cluster for studying the association rules of in the purchasing history of customers of different tiers.","title":"Association Rules Mining documentation!"},{"location":"index-dev.html#association-rules-mining-documentation","text":"","title":"Association Rules Mining documentation!"},{"location":"index-dev.html#description","text":"A project for mining association rules in historical transaction data. The model can be configured with the config/model.toml in details.","title":"Description"},{"location":"index-dev.html#commands","text":"Running the model consists of 2 parts: --gen_rules indicates the procedure of mining the association rules. --nodes_values indicates the procedure of calculating the node values. The model will generatet the association rules first. After that, the model can generate the node values of individual nodes. python main.py --gen_rules --nodes_values --topic HKD12 The --topic argument is set for different scenarios. So far, possible options include HKD12 for the scenario of 12 HKD omushibi promotion; and Cluster for studying the association rules of in the purchasing history of customers of different tiers.","title":"Commands"},{"location":"user-guide.html","text":"User Guide This guide is for user to run the model in CLI. Pre-Requisite User should create and activate the virtual environment defined in environemnt.yml . To create the virtual environment, conda env create -f environment.yml After creating the virtual environment, activate it before running the model. The name of the environment just created should be arules_env_refactor . conda activate <name_of_the_environment> Prepare Data This session explain what data is needed for running the model. Run the Model After activating the conda environment, the model can be excuted by running the main.py script. python main.py --gen_rules --nodes_values --topic HKD12 Running the model consists of 2 parts: --gen_rules indicates the procedure of mining the association rules. --nodes_values indicates the procedure of calculating the node values. The model will generate the association rules first. After that, the model can generate the node values of individual nodes. The --topic argument is set for different scenarios. So far, possible options include - HKD12 for the scenario of 12 HKD omushibi promotion; and - Cluster for studying the association rules of in the purchasing history of customers of different tiers. Using the Configuration Files The project can be configured in detailed using two config files: the config/model.toml and config/project.toml . Inside the config/model.toml , [Train] [Args] # [\"HANA-MUSUBI\", \"OMUSUBI\"] brand = [\"HANA-MUSUBI\"] # [True, False] licensed = [] # [\"Breakfast\", \"Lunch\", \"TeaTime\", \"Dinner\"] meal = [\"Breakfast\", \"Lunch\", \"TeaTime\", \"Dinner\"] # [\"Top\", \"Core\", \"TopHigh\", \"TopLow\", \"CoreHigh\", \"CoreLow\"] tier = [] # [\"SUN\", \"SAT\", \"WKD\"] daytype = [\"SUN\", \"SAT\", \"WKD\"] # [\"P1\", \"P2\", \"False\"] promotion = [\"P1\", \"P2\", \"False\"] # [\"D\", \"ND\"], # TODO Allow discount name input. discount = [true, false] [Hyperparams] [Architectures] [Validate] [Test] Inside the config/project.toml , [Dirs] RawDir = 'data/raw' ProcessedDir = 'data/processed' ExternalDir = 'data/external' InterimDir = 'data/interim' ModelDir = 'models' OutputDir = 'output' LoggerDir = 'logger' [DatName]","title":"User Guide"},{"location":"user-guide.html#user-guide","text":"This guide is for user to run the model in CLI.","title":"User Guide"},{"location":"user-guide.html#pre-requisite","text":"User should create and activate the virtual environment defined in environemnt.yml . To create the virtual environment, conda env create -f environment.yml After creating the virtual environment, activate it before running the model. The name of the environment just created should be arules_env_refactor . conda activate <name_of_the_environment>","title":"Pre-Requisite"},{"location":"user-guide.html#prepare-data","text":"This session explain what data is needed for running the model.","title":"Prepare Data"},{"location":"user-guide.html#run-the-model","text":"After activating the conda environment, the model can be excuted by running the main.py script. python main.py --gen_rules --nodes_values --topic HKD12 Running the model consists of 2 parts: --gen_rules indicates the procedure of mining the association rules. --nodes_values indicates the procedure of calculating the node values. The model will generate the association rules first. After that, the model can generate the node values of individual nodes. The --topic argument is set for different scenarios. So far, possible options include - HKD12 for the scenario of 12 HKD omushibi promotion; and - Cluster for studying the association rules of in the purchasing history of customers of different tiers.","title":"Run the Model"},{"location":"user-guide.html#using-the-configuration-files","text":"The project can be configured in detailed using two config files: the config/model.toml and config/project.toml . Inside the config/model.toml , [Train] [Args] # [\"HANA-MUSUBI\", \"OMUSUBI\"] brand = [\"HANA-MUSUBI\"] # [True, False] licensed = [] # [\"Breakfast\", \"Lunch\", \"TeaTime\", \"Dinner\"] meal = [\"Breakfast\", \"Lunch\", \"TeaTime\", \"Dinner\"] # [\"Top\", \"Core\", \"TopHigh\", \"TopLow\", \"CoreHigh\", \"CoreLow\"] tier = [] # [\"SUN\", \"SAT\", \"WKD\"] daytype = [\"SUN\", \"SAT\", \"WKD\"] # [\"P1\", \"P2\", \"False\"] promotion = [\"P1\", \"P2\", \"False\"] # [\"D\", \"ND\"], # TODO Allow discount name input. discount = [true, false] [Hyperparams] [Architectures] [Validate] [Test] Inside the config/project.toml , [Dirs] RawDir = 'data/raw' ProcessedDir = 'data/processed' ExternalDir = 'data/external' InterimDir = 'data/interim' ModelDir = 'models' OutputDir = 'output' LoggerDir = 'logger' [DatName]","title":"Using the Configuration Files"}]}